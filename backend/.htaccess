# Laravel redirect configuration for GoDaddy
RewriteEngine On

# Handle requests to /backend/public/ path (your current URL structure)
# This allows /backend/public/ to work directly by serving files from public/ directory
RewriteCond %{REQUEST_URI} ^/backend/public/(.*)$
RewriteRule ^backend/public/(.*)$ public/$1 [L]

# Handle requests to /backend/public path (without trailing slash)
RewriteCond %{REQUEST_URI} ^/backend/public$
RewriteRule ^backend/public$ public/ [L,R=301]

# Handle root requests (for shorter URLs like api.tedara.com/api/test)
# Redirect all other requests to the public directory
RewriteCond %{REQUEST_URI} !^/public/
RewriteCond %{REQUEST_URI} !^/backend/public/
RewriteCond %{REQUEST_URI} !^/test-root\.php$
RewriteCond %{REQUEST_URI} !^/test\.html$
RewriteRule ^(.*)$ public/$1 [L]

# Set default directory index
DirectoryIndex public/index.php

# Enable mod_rewrite
<IfModule mod_rewrite.c>
    RewriteEngine On
</IfModule>